\documentclass[a4paper,12pt,ngerman,titlepage]{article}

%%%%%% packages %%%%%%%%%
\usepackage{fancyhdr}
\usepackage{times}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{setspace}
% \usepackage[T1]{fontenc}
\usepackage{graphicx}
\graphicspath{ {./images/} }
\usepackage[rightcaption]{sidecap}
\usepackage{tipa}
\usepackage{gensymb}
% \usepackage{amsmath}
% \usepackage{amssymb}
% 
% 
\usepackage{ngerman}

\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{code}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

%%%%%%pagestyle%%%%%%%%%
\setlength{\headheight}{15pt}
\pagestyle{fancy}

\rfoot{\thepage}
\cfoot{}
%\lfoot{\includegraphics[width = 0.8\textwidth]{Fusszeilenlogo}}
\lfoot{Grabungsfotos}
%%%%%%%%%%%%%%%%%%%%%


\begin{document}

\lstset{style=code}

% %%%%%% automatische Titelseite %%%%%%%%%
% \author{Schreiber}
% \date{Datum}
% \title{Der Titel}
% \maketitle
% %%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%% manuelle Titleseite %%%%%%%%%%%%
\begin{titlepage}
%    \begin{flushright}
%        \includegraphics[scale=1]{HSM_Logo_T_gruen_rgb}%\\
%    \end{flushright}
%    \vspace{3cm}
    %
    \begin{center}
        {\Huge Automatisierte Aufbereitung archäologischer Grabungsfotos mittels Computer Vision}\\
        \vspace{2cm}
        {\large Simon Metzger}\\
        \vspace{1cm}
        {\large{\textbf{ Masterarbeit}}}\\
        \vspace{1cm}
        {\large zur Erlangung des akademischen Grades Master of Arts im Studiengang Digitale Methodik der Geistes- und Kulturwissenschaften}\\
        \vspace{1cm}
        {\large Johannes-Gutenberg-Universität Mainz und Hochschule Mainz}
            
    \end{center}
\end{titlepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage

%%%%%%%%%%%% Vorspann %%%%%%%%%%%%%%
\thispagestyle{empty}
\renewcommand{\abstractname}{Zusammenfassung}
\begin{abstract}
In der Archäologie, aber auch in anderen grabenden Wissenschaften werden Funde und Befunde fotografiert und mittels einer daneben platzierten Tafel mit Metadaten versehen. Selbst wenn diese Fotografie schon digital erfolgt ist, fehlt es oft an weiteren Metadaten. Praktisch wäre daher, die Metadaten von den Tafeln zu entnehmen und den Fotos zuzuordnen.
Im Rahmen des Projektes erfolgt das in zwei Schritten: Der Erkennung der Tafel, um die Textregion zu finden und die Texterkennung selbst. Beides soll in einer Python-Pipeline abgehandelt werden. Für Ersteres wurden CNNs erprobt, was nicht funktionierte, und schließlich auf klassische Computervision zurückgegriffen. Die Erkennung basiert auf findcontours, was zunächst eine Binarisierung notwendig macht. Dafür gibt es zwei verschiedene Ansätze, die sich bewährt haben: Der adaptive und der iterative. Bei ersterem werden Pixel im Kontext des sie umgebenden Bildausschnittes binarisiert, bei zweiterem  werden verschiedene Grenzwerte für die Binarisierung genutzt. Die so erhaltenen Konturen werden über den Flächeninhalt mit dem sie umgebenden kleinstmöglichen Rechteck verglichen. Nähern sich die Flächen ausreichend einander an, gilt auch die Kontur als Rechteck und somit als mögliche Tafel.
Es folgt das Ausschneiden der gefundenen Bildregionen in zwei möglichen Verfahren. Das erste entnimmt den Bereich des kleinstmöglichen Recktecks aus dem Bild und eignet sich nur bedingt, um die Rotation der Tafeln auszugleichen. Das zweite dient dazu, die tatsächlichen Eckpunkte der Tafeln zu ermitteln und anhand dieser eine Projektion auf auf ein Rechteck vorzunehmen.
Anschließend werden die so erzeugten Bildausschnitte mittels OCR auf ihre Beschriftung untersucht. Dabei müssen die Problematiken der Kreidebeschriftung ausgeglichen werden. Die Ergebnisse werden anschließen evaluiert und ausgegeben.
\end{abstract}
\newpage

\thispagestyle{empty}
\tableofcontents
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%% Inhalt %%%%%%%%%%%%%%

\include{einleitung}
%\include{theorie}
\include{methoden}
\include{ergebnisse}
\include{diskussion}
\include{zusammenfassung}
%%%%%%%%%%%%%%%%%%%%%%%%%%

\clearpage
%%%%%%%%%%%% Quellen %%%%%%%%%%%%%%
\bibliographystyle{apalike}
\bibliography{quellen}
%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
